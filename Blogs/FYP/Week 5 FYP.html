<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Week 5 FYP</title>
    <link rel="stylesheet" href="../../styles/blogs.css" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script async src="../../javascript/index.js"></script>  
    <script src="https://kit.fontawesome.com/0a66c744b9.js" crossorigin="anonymous"></script>  
  </head>
  <body>
            <!-- Navigation Bar Stuff -->
      <!-- The ul tag defines an unordered (bulleted) list -->
      <ul>
        <li><a href="../../index.html">Home</a></li>
        <li><a href="../../projects.html">My Projects</a></li>
        <li><a class = "active" href="../../blogs.html">My Blogs</a></li>
        <!-- The A tag defines a hyperlink -->
        <a href="https://github.com/Tuchakage">
          <!-- Makes a github logo -->
          <i class="fab fa-github" style="font-size:64px;float:right;color:black;"></i>  
        </a>
          
        <a href="https://www.linkedin.com/in/tuchan-anthony-179727176/">
        <i class="fab fa-linkedin" style="font-size:64px;float:right;color:cornflowerblue" ></i>
        </a>

      </ul>

      
        <!-- Separates the Navigation Bar with everything else below -->
        <div style="padding:20px;margin-top:30px;height:1500px;">
          <div class="header">
            <h1 class = "normal">Week 5 - Improving The Combat</h1>
          </div>
          <div class="leftcolumn">
            <div class = "card">
              <h5 class = "normal">Date Created: Nov 30, 2021</h5>

              <h2 class = "normal">Making A Simple Enemy AI</h2>
              <p>It was time for me to get started on the Enemy AI, the way i want my Enemy to behave is that when they spawn in i want them to straight away chase the player and then when the Enemy is near the player it will attempt to attack them.</p>
              <p>To actually get AI onto the Enemy i had to create a new Enemy Blueprint so that it is derived from the Character class instead of the Static Mesh Actor class. After that i added a simple AI onto the Enemy so that it just moves towards the target using Behaviour Trees.</p>

              <h2 class = "normal">Adding Knockback</h2>
              <p>I also added knock back to the Enemy when they either get hit by the Arrow or by the Dagger, this was easy to implement because i already had the nodes for a Knockback Event from a previous project and all i had to do was call the event whenever it hit the Enemy. For the Dagger  made it that the knockback value depends on the string charge variable in the BowBP but when its setting the Arrow Power I had to clamp the range so that the knockback isn't too powerful.</p>
              <p>There was a problem with the knockback of the arrow where the Enemy wouldn't really be knocked back, I found out that this was happening was because of the BP nodes that was making sure that the arrows stopped in place when it collides with something. </p>
              <p>My solution for this problem was getting rid of the nodes that were causing the problem and then instead of stopping the arrow i just destroy the Arrow when it hits something but i make sure to call the Knockback event before destroying it. A delay node was also added between the knockback event and destroy actor node because if the arrow destroyed itself straight away the arrow power wouldn't apply itself to the knockback value quick enough which means there would be 0 knockback.</p>

              <h2 class = "normal">Quick Changes</h2>
              <p>Since i wanted to get a model for the Dagger soon i wanted to have a hitbox that detected an Enemy instead of the whole Mesh that can detect an Enemy, in the weapon script i just changed the collision mesh variable type from StaticMeshComponent to BoxComponent.</p>
              <p>
                Finally i changed the rotation of the hand mesh so it is easier to hold weapons because before to hold the Dagger properly i had to put my wrists in a weird angle which would probably hurt other players if they did it for too long.</p>

              <!-- Image Slideshow box -->
              <div class="container">
                
                <div class ="mySlides">
                  <img src="..\..\images\FYP Images\Week 5\Fixing Knockback Problem.png" style="width: 100%;">
                  <div class="overlay">
                    <div class="text">Fixing Knockback Problem</div>
                  </div>
                </div>

                <div class ="mySlides">
                  <img src="..\..\images\FYP Images\Week 5\Knockback Event For Arrow.png" style="width: 100%;">
                  <div class="overlay">
                    <div class="text">Knockback Event For Arrow</div>
                  </div>
                </div>

                <div class ="mySlides">
                  <img src="..\..\images\FYP Images\Week 5\Knockback Of Arrow Depends On String Charge.png" style="width: 100%;">
                  <div class="overlay">
                    <div class="text">Knockback Of Arrow Depends On String Charge</div>
                  </div>
                </div>
                
                <div class ="mySlides">
                  <img src="..\..\images\FYP Images\Week 5\Simple Move To Behaviour Tree.png" style="width: 100%;">
                  <div class="overlay">
                    <div class="text">Simple Move To Behaviour Tree</div>
                  </div>
                </div>

                <!-- Left Arrow and Right Arrow for Video Slideshow -->
                <button class="leftarrow" onclick="plusDivs(-1)">&#10094;</button>
                <button class="rightarrow" onclick="plusDivs(1)">&#10095;</button>
              </div>
            </div>
          </div>        
        </div>
  
<!-- This changes the slide numbers -->
<script>
  var slideIndex = 1;
  showDivs(slideIndex);
  
  function plusDivs(n) {
    showDivs(slideIndex += n);
  }
  
  function showDivs(n) {
    var i;
    var x = document.getElementsByClassName("mySlides");
    if (n > x.length) {slideIndex = 1}
    if (n < 1) {slideIndex = x.length}
    for (i = 0; i < x.length; i++) {
      x[i].style.display = "none";  
    }
    x[slideIndex-1].style.display = "block";  
  }
  </script>
  </body>
</html>